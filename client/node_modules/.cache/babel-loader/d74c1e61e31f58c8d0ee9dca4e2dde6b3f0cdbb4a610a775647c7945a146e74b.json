{"ast":null,"code":"import React,{useState}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SensorDemo(){const[status,setStatus]=useState('');const[videoSrc,setVideoSrc]=useState(null);const handleImageUpload=async event=>{const file=event.target.files[0];const formData=new FormData();formData.append('file',file);try{const response=await fetch('/upload',{method:'POST',body:formData});if(response.ok){const data=await response.json();setStatus('File uploaded successfully: '+data.filename);setVideoSrc(URL.createObjectURL(file));}else{setStatus('Failed to upload file');}}catch(error){console.error('Error uploading file:',error);setStatus('Failed to upload file');}};const handleButtonClick=endpoint=>{fetch(endpoint,{method:'POST'}).then(response=>response.json()).then(data=>setStatus('Variable toggled: '+data.toggle_variable)).catch(error=>console.error(error));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"\\xA0Image processing\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Video Stream\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"box\",children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40%',height:'500px'},children:videoSrc?/*#__PURE__*/_jsxs(\"video\",{controls:true,width:\"100%\",height:\"500px\",children:[/*#__PURE__*/_jsx(\"source\",{src:videoSrc,type:\"video/mp4\"}),\"Your browser does not support the video tag.\"]}):/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload})}),/*#__PURE__*/_jsx(\"div\",{style:{width:'60%',height:'500px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleButtonClick('/model1'),id:\"model1\",children:\"Yolo Model 1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleButtonClick('/model2'),id:\"model2\",children:\"Yolo Model 2\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleButtonClick('/bw'),id:\"bw\",children:\"Black and white\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleButtonClick('/sharp'),id:\"sharp\",children:\"Sharpen\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleButtonClick('/pause'),id:\"pause\",children:\"Pause\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleButtonClick('/fr'),id:\"fr\",children:\"Change frame rate\"})]})})]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"status\",children:status})]});}export default SensorDemo;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","SensorDemo","status","setStatus","videoSrc","setVideoSrc","handleImageUpload","event","file","target","files","formData","FormData","append","response","fetch","method","body","ok","data","json","filename","URL","createObjectURL","error","console","handleButtonClick","endpoint","then","toggle_variable","catch","children","className","style","width","height","controls","src","type","accept","onChange","onClick","id"],"sources":["/home/aansh/CiSTUP-WebDev/my-react-app/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\n\nfunction SensorDemo() {\n    const [status, setStatus] = useState('');\n    const [videoSrc, setVideoSrc] = useState(null);\n\n    const handleImageUpload = async (event) => {\n        const file = event.target.files[0];\n        const formData = new FormData();\n        formData.append('file', file);\n\n        try {\n            const response = await fetch('/upload', {\n                method: 'POST',\n                body: formData\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                setStatus('File uploaded successfully: ' + data.filename);\n                setVideoSrc(URL.createObjectURL(file));\n            } else {\n                setStatus('Failed to upload file');\n            }\n        } catch (error) {\n            console.error('Error uploading file:', error);\n            setStatus('Failed to upload file');\n        }\n    };\n\n    const handleButtonClick = (endpoint) => {\n        fetch(endpoint, { method: 'POST' })\n            .then(response => response.json())\n            .then(data => setStatus('Variable toggled: ' + data.toggle_variable))\n            .catch(error => console.error(error));\n    };\n\n    return (\n        <div>\n            <h1>\n                <span>&nbsp;Image processing</span>\n            </h1>\n\n            <div>\n                <div className=\"title\">\n                    <h2>Video Stream</h2>\n                </div>\n                <div className=\"box\">\n                    <div style={{ width: '40%', height: '500px' }}>\n                        {videoSrc ? (\n                            <video controls width=\"100%\" height=\"500px\">\n                                <source src={videoSrc} type=\"video/mp4\" />\n                                Your browser does not support the video tag.\n                            </video>\n                        ) : (\n                            <input type=\"file\" accept=\"image/*\" onChange={handleImageUpload} />\n                        )}\n                    </div>\n                    <div style={{ width: '60%', height: '500px' }}>\n                        <div className=\"grid-container\">\n                            <button onClick={() => handleButtonClick('/model1')} id=\"model1\">Yolo Model 1</button>\n                            <button onClick={() => handleButtonClick('/model2')} id=\"model2\">Yolo Model 2</button>\n                            <button onClick={() => handleButtonClick('/bw')} id=\"bw\">Black and white</button>\n                            <button onClick={() => handleButtonClick('/sharp')} id=\"sharp\">Sharpen</button>\n                            <button onClick={() => handleButtonClick('/pause')} id=\"pause\">Pause</button>\n                            <button onClick={() => handleButtonClick('/fr')} id=\"fr\">Change frame rate</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div id=\"status\">{status}</div>\n        </div>\n    );\n}\n\nexport default SensorDemo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}